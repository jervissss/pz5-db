# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ ‚Ññ5
## –ì—Ä—É–ø–ø–∞: –≠–§–ú–û-02-25  
## –§–ò–û: –ï–≤–¥–æ–∫–æ–≤ –ë–æ–≥–¥–∞–Ω –í–∞–¥–∏–º–æ–≤–∏—á

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–≠—Ç–æ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ —è–∑—ã–∫–µ Go –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö.

## üõ† –ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|---------|------------|
| **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** | Windows 10/11 | –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Windows |
| **Go (Golang)** | 1.21+ | –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **PostgreSQL** | 14+ | –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö |
| **Git** | –õ—é–±–∞—è | –î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π |

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

1. **–°–∫–∞—á–∞–π—Ç–µ PostgreSQL**: 
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç [https://www.enterprisedb.com/downloads/postgres-postgresql-downloads](https://www.enterprisedb.com/downloads/postgres-postgresql-downloads)
   - –°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –¥–ª—è Windows

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL**:
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
   - –ù–∞–∂–∏–º–∞–π—Ç–µ "Next", –ø–æ–∫–∞ –Ω–µ –¥–æ–π–¥–µ—Ç–µ –¥–æ –æ–∫–Ω–∞ "Password"
   - **–í–ê–ñ–ù–û**: –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `12345`)
   - –ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ `5432`)
   - –ó–∞–≤–µ—Ä—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É**:
   - –í –º–µ–Ω—é –ü—É—Å–∫ –Ω–∞–π–¥–∏—Ç–µ "SQL Shell (psql)" –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
   - –ù–∞–∂–∏–º–∞–π—Ç–µ Enter –Ω–∞ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö, –ø–æ–∫–∞ –Ω–µ —Å–ø—Ä–æ—Å–∏—Ç –ø–∞—Ä–æ–ª—å
   - –í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `postgres=#` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞!

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í –æ—Ç–∫—Ä—ã—Ç–æ–º SQL Shell –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏:

```powershell
-- –°–æ–∑–¥–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö "todo"
CREATE DATABASE todo;

-- –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –Ω–µ–π
\c todo

-- –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∑–∞–¥–∞—á
CREATE TABLE tasks (
  id SERIAL PRIMARY KEY,
  title TEXT NOT NULL,
  done BOOLEAN NOT NULL DEFAULT FALSE,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
INSERT INTO tasks (title) VALUES ('–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–¥–∞—á–∞');
SELECT * FROM tasks;
```
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤–∞—à—É –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É –≤ —Ç–∞–±–ª–∏—Ü–µ.

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go
–°–∫–∞—á–∞–π—Ç–µ Go —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É: –æ—Ç–∫—Ä–æ–π—Ç–µ –ö–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏ –≤–≤–µ–¥–∏—Ç–µ:

```cmd
go version
```
–î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏.

### –®–∞–≥ 4: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –†–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ:

  * –ù–∞–∑–æ–≤–∏—Ç–µ –µ—ë pz5-db

2. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–æ–ª–æ–∂–∏—Ç–µ –∏—Ö –≤ —ç—Ç—É –ø–∞–ø–∫—É:
  * main.go - –≥–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
  * db.go - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ
  * repository.go - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
  * go.mod - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

3. –û—Ç–∫—Ä–æ–π—Ç–µ –ö–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:

```cmd
cd Desktop\pz5-db
```
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```cmd
go mod download
```
–®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
–í –ö–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```cmd
go run .
```
*–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:*
* –ü–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ Connected to PostgreSQL
* –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–±–∞–≤–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á –≤ –±–∞–∑—É
* –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á –≤ –∫—Ä–∞—Å–∏–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã
–°–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –æ—Ç—á–µ—Ç–∞:
–°–æ–∑–¥–∞–Ω–∏–µ –ë–î –≤ psql:

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/a03ff613-9019-4225-9cc1-72cad8957b1e" />


–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã:

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/d676066c-5282-4357-8bf4-dd88918c24ef" />


–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ psql:

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/75aa6267-db8c-4314-85a6-2f37834cf590" />


## ‚ùì –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
1. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (*sql.DB) –∏ –∑–∞—á–µ–º –µ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å?
   
    –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π - —ç—Ç–æ "–ø–∞—Ä–∫–æ–≤–∫–∞" –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–Ω–æ–≤–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –±–∞–∑–µ (—á—Ç–æ –¥–æ–ª–≥–æ), –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±–µ—Ä–µ—Ç –≥–æ—Ç–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ "–ø–∞—Ä–∫–æ–≤–∫–∏", –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ.

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ:

SetMaxOpenConns(10) - –º–∞–∫—Å–∏–º—É–º 10 –º–∞—à–∏–Ω –Ω–∞ –ø–∞—Ä–∫–æ–≤–∫–µ

SetMaxIdleConns(5) - 5 –º–∞—à–∏–Ω –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ

SetConnMaxLifetime(30 –º–∏–Ω—É—Ç) - —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç –º–∞—à–∏–Ω—É –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –Ω–∞ —Ç–µ—Ö–æ—Å–º–æ—Ç—Ä

2. –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã $1, $2?
   
   –≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç —Ö–∞–∫–µ—Ä–æ–≤. –ï—Å–ª–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–º–∞–Ω–¥—É SQL, –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç "–≤–∑–ª–æ–º–∞—Ç—å" –Ω–∞—à—É –±–∞–∑—É. –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã - —ç—Ç–æ –∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞: –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–æ–º–∞–Ω–¥—ã, –∏ –±–∞–∑–∞ –∏—Ö –ø—Ä–æ–≤–µ—Ä—è–µ—Ç.

–°–¥–µ–ª–∞–Ω—ã –≤—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

<img width="273" height="207" alt="image" src="https://github.com/user-attachments/assets/7f0c2da2-ade1-41a2-9f08-40ceb1ddf886" />

---
*–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É—á–µ–±–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.*
